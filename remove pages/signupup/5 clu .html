<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø£Ù†Ù…ÙŠ ÙˆØ§Ù„Ù…Ø§Ù†Ø¬Ø§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
        
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        .anime-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .anime-gradient-alt {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .anime-gradient-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .step-active {
            transform: scale(1.1);
            transition: all 0.3s ease;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in-right {
            animation: slideInRight 0.4s ease-out;
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .chip {
            transition: all 0.3s ease;
        }
        
        .chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .chip-selected {
            transform: scale(1.05);
        }
        
        .avatar-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .avatar-option:hover {
            transform: scale(1.1);
        }
        
        .avatar-selected {
            border: 3px solid #667eea;
            transform: scale(1.1);
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            ring: 2px;
            ring-color: #667eea;
        }
        
        .dark-mode {
            background: #1a1a2e;
            color: #eee;
        }
        
        .dark-mode .card-bg {
            background: #16213e;
        }
        
        .dark-mode input, .dark-mode textarea, .dark-mode select {
            background: #0f3460;
            color: #eee;
            border-color: #16213e;
        }
        
        .toggle-checkbox:checked {
            right: 0;
            border-color: #667eea;
        }
        
        .toggle-checkbox:checked + .toggle-label {
            background: #667eea;
        }
        
        .success-animation {
            animation: successPulse 1s ease-in-out;
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body class="min-h-screen transition-colors duration-300" id="body">
    <!-- Dark Mode Toggle -->
    <div class="fixed top-4 left-4 z-50">
        <button onclick="toggleDarkMode()" class="bg-white dark:bg-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all">
            <svg id="sun-icon" class="w-6 h-6 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
            </svg>
            <svg id="moon-icon" class="w-6 h-6 text-purple-600 hidden" fill="currentColor" viewBox="0 0 20 20">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
            </svg>
        </button>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8 fade-in">
            <div class="inline-block anime-gradient p-4 rounded-full mb-4">
                <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path>
                </svg>
            </div>
            <h1 class="text-4xl font-bold mb-2 anime-gradient bg-clip-text text-transparent">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ!</h1>
            <p class="text-gray-600 dark:text-gray-300">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø£ÙƒØ¨Ø± Ù…Ø¬ØªÙ…Ø¹ Ø¹Ø±Ø¨ÙŠ Ù„Ù„Ø£Ù†Ù…ÙŠ ÙˆØ§Ù„Ù…Ø§Ù†Ø¬Ø§ ÙˆØ§Ù„ÙƒÙˆÙ…ÙƒØ³</p>
        </div>

        <!-- Progress Bar -->
        <div class="mb-8 fade-in">
            <div class="flex justify-between items-center mb-2">
                <div class="flex-1 flex items-center" id="step-indicators">
                    <!-- Steps will be generated by JS -->
                </div>
            </div>
            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                <div id="progress-bar" class="anime-gradient h-2 rounded-full transition-all duration-500" style="width: 20%"></div>
            </div>
        </div>

        <!-- Form Container -->
        <div class="card-bg bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 slide-in-right">
            <form id="signup-form">
                <!-- Step 1: Account Details -->
                <div id="step-1" class="step-content">
                    <h2 class="text-2xl font-bold mb-6 text-center">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h2>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¶</label>
                            <input type="text" id="displayName" required 
                                class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                placeholder="Ø§Ø³Ù…Ùƒ ÙÙŠ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹">
                            <p class="text-red-500 text-sm mt-1 hidden" id="displayName-error"></p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                            <input type="email" id="email" required 
                                class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                placeholder="example@email.com">
                            <p class="text-red-500 text-sm mt-1 hidden" id="email-error"></p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                            <input type="password" id="password" required 
                                class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                placeholder="8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„">
                            <p class="text-red-500 text-sm mt-1 hidden" id="password-error"></p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                            <input type="password" id="confirmPassword" required 
                                class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                            <p class="text-red-500 text-sm mt-1 hidden" id="confirmPassword-error"></p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Profile -->
                <div id="step-2" class="step-content hidden">
                    <h2 class="text-2xl font-bold mb-6 text-center">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
                    
                    <div class="space-y-6">
                        <!-- Avatar Selection -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ø§Ø®ØªØ± ØµÙˆØ±ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
                            
                            <!-- Upload Option -->
                            <div class="mb-4">
                                <label for="avatar-upload" class="cursor-pointer">
                                    <div class="border-2 border-dashed border-purple-400 rounded-lg p-6 text-center hover:bg-purple-50 dark:hover:bg-purple-900 transition-all">
                                        <svg class="w-12 h-12 mx-auto text-purple-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                        </svg>
                                        <p class="text-sm">Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ ØµÙˆØ±Ø©</p>
                                    </div>
                                </label>
                                <input type="file" id="avatar-upload" accept="image/*" class="hidden">
                                
                                <!-- Preview -->
                                <div id="avatar-preview" class="mt-4 hidden text-center">
                                    <img id="preview-img" class="w-32 h-32 rounded-full mx-auto object-cover border-4 border-purple-500">
                                </div>
                            </div>

                            <!-- Preset Avatars -->
                            <p class="text-sm mb-3">Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø£ÙØ§ØªØ§Ø±Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:</p>
                            <div class="grid grid-cols-5 gap-3" id="preset-avatars">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Bio -->
                        <div>
                            <label class="block text-sm font-medium mb-2">Ù†Ø¨Ø°Ø© Ø¹Ù†Ùƒ</label>
                            <textarea id="bio" rows="3" 
                                class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                placeholder="Ø£Ø®Ø¨Ø±Ù†Ø§ Ø¹Ù† Ù†ÙØ³Ùƒ... Ù…Ø§ Ù‡ÙŠ Ø£Ù†Ù…ÙŠØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©ØŸ"></textarea>
                        </div>

                        <!-- Country & Language -->
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
                                <select id="country" 
                                    class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all">
                                    <option value="">Ø§Ø®ØªØ±...</option>
                                    <option value="sa">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                                    <option value="eg">Ù…ØµØ±</option>
                                    <option value="ae">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                                    <option value="jo">Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                                    <option value="lb">Ù„Ø¨Ù†Ø§Ù†</option>
                                    <option value="other">Ø£Ø®Ø±Ù‰</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©</label>
                                <select id="language" 
                                    class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all">
                                    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                    <option value="en">English</option>
                                    <option value="both">ÙƒÙ„Ø§Ù‡Ù…Ø§</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Interests -->
                <div id="step-3" class="step-content hidden">
                    <h2 class="text-2xl font-bold mb-6 text-center">Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ</h2>
                    
                    <div class="space-y-6">
                        <!-- Main Interests -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ‡Ù…ÙƒØŸ (Ø§Ø®ØªØ± Ø¹Ø¯Ø© Ø®ÙŠØ§Ø±Ø§Øª)</label>
                            <div class="flex flex-wrap gap-2" id="interests-chips">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Favorite Genres -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ÙØ¶Ù„Ø©</label>
                            <div class="flex flex-wrap gap-2" id="genres-chips">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Favorite Works -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© (Ø§Ø®ØªØ± Ø­ØªÙ‰ 3)</label>
                            <div class="space-y-2">
                                <input type="text" id="fav1" 
                                    class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                    placeholder="Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø£ÙˆÙ„">
                                <input type="text" id="fav2" 
                                    class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                    placeholder="Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ">
                                <input type="text" id="fav3" 
                                    class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 transition-all"
                                    placeholder="Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø«Ø§Ù„Ø«">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Social Interaction -->
                <div id="step-4" class="step-content hidden">
                    <h2 class="text-2xl font-bold mb-6 text-center">Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h2>
                    
                    <div class="space-y-6">
                        <!-- Community Goals -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ØŸ</label>
                            <div class="space-y-2" id="community-goals">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Suggested Follows -->
                        <div>
                            <label class="block text-sm font-medium mb-3">Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</label>
                            <div class="space-y-3" id="suggested-follows">
                                <!-- Generated by JS -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Review -->
                <div id="step-5" class="step-content hidden">
                    <h2 class="text-2xl font-bold mb-6 text-center">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>
                    
                    <div class="space-y-4" id="review-content">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <!-- Success Screen -->
                <div id="success-screen" class="hidden text-center">
                    <div class="success-animation">
                        <div class="inline-block anime-gradient-success p-6 rounded-full mb-4">
                            <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h2 class="text-3xl font-bold mb-4">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰</h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-8">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø¬ØªÙ…Ø¹Ù†Ø§! Ø§Ø³ØªØ¹Ø¯ Ù„ØªØ¬Ø±Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø©</p>
                        <a href="#profile" class="inline-block anime-gradient text-white px-8 py-4 rounded-lg font-bold hover:shadow-xl transition-all">
                            Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                        </a>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="flex justify-between mt-8" id="nav-buttons">
                    <button type="button" id="prev-btn" 
                        class="px-6 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all font-medium hidden">
                        Ø§Ù„Ø³Ø§Ø¨Ù‚
                    </button>
                    <button type="button" id="next-btn" 
                        class="mr-auto anime-gradient text-white px-8 py-3 rounded-lg font-bold hover:shadow-xl transition-all">
                        Ø§Ù„ØªØ§Ù„ÙŠ
                    </button>
                    <button type="submit" id="submit-btn" 
                        class="hidden mr-auto anime-gradient-alt text-white px-8 py-3 rounded-lg font-bold hover:shadow-xl transition-all">
                        Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // State Management
        let currentStep = 1;
        const totalSteps = 5;
        let formData = {};
        let darkMode = false;
        
        // Load saved data from localStorage
        window.addEventListener('DOMContentLoaded', () => {
            loadFormData();
            initializeForm();
            updateStepIndicators();
        });

        // Initialize Form
        function initializeForm() {
            generatePresetAvatars();
            generateInterestsChips();
            generateGenresChips();
            generateCommunityGoals();
            generateSuggestedFollows();
            
            // Avatar upload handler
            document.getElementById('avatar-upload').addEventListener('change', handleAvatarUpload);
            
            // Auto-save on input
            document.querySelectorAll('input, textarea, select').forEach(input => {
                input.addEventListener('change', saveFormData);
            });
        }

        // Generate Preset Avatars
        function generatePresetAvatars() {
            const avatars = [
                'https://i.pravatar.cc/150?img=1',
                'https://i.pravatar.cc/150?img=2',
                'https://i.pravatar.cc/150?img=3',
                'https://i.pravatar.cc/150?img=4',
                'https://i.pravatar.cc/150?img=5',
                'https://i.pravatar.cc/150?img=6',
                'https://i.pravatar.cc/150?img=7',
                'https://i.pravatar.cc/150?img=8',
                'https://i.pravatar.cc/150?img=9',
                'https://i.pravatar.cc/150?img=10'
            ];
            
            const container = document.getElementById('preset-avatars');
            avatars.forEach((url, index) => {
                const img = document.createElement('img');
                img.src = url;
                img.className = 'avatar-option w-16 h-16 rounded-full object-cover border-2 border-gray-300';
                img.onclick = () => selectPresetAvatar(url, img);
                container.appendChild(img);
            });
        }

        function selectPresetAvatar(url, element) {
            document.querySelectorAll('.avatar-option').forEach(el => el.classList.remove('avatar-selected'));
            element.classList.add('avatar-selected');
            formData.avatar = url;
            saveFormData();
        }

        function handleAvatarUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const preview = document.getElementById('avatar-preview');
                    const img = document.getElementById('preview-img');
                    img.src = event.target.result;
                    preview.classList.remove('hidden');
                    formData.avatar = event.target.result;
                    saveFormData();
                };
                reader.readAsDataURL(file);
            }
        }

        // Generate Interest Chips
        function generateInterestsChips() {
            const interests = ['Anime', 'Manga', 'Manhwa', 'Comics', 'Cosplay', 'Fanart', 'Games', 'Light Novels'];
            const container = document.getElementById('interests-chips');
            
            interests.forEach(interest => {
                const chip = createChip(interest, 'interests');
                container.appendChild(chip);
            });
        }

        function generateGenresChips() {
            const genres = ['Shonen', 'Seinen', 'Isekai', 'Slice of Life', 'Romance', 'Horror', 'Sci-Fi', 'Fantasy', 'Action', 'Comedy', 'Drama', 'Mystery'];
            const container = document.getElementById('genres-chips');
            
            genres.forEach(genre => {
                const chip = createChip(genre, 'genres');
                container.appendChild(chip);
            });
        }

        function createChip(text, category) {
            const chip = document.createElement('button');
            chip.type = 'button';
            chip.textContent = text;
            chip.className = 'chip px-4 py-2 rounded-full border-2 border-purple-400 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900';
            chip.onclick = () => toggleChip(chip, text, category);
            return chip;
        }

        function toggleChip(element, value, category) {
            element.classList.toggle('chip-selected');
            element.classList.toggle('bg-purple-500');
            element.classList.toggle('text-white');
            element.classList.toggle('border-purple-500');
            
            if (!formData[category]) formData[category] = [];
            
            if (element.classList.contains('chip-selected')) {
                formData[category].push(value);
            } else {
                formData[category] = formData[category].filter(item => item !== value);
            }
            
            saveFormData();
        }

        // Generate Community Goals
        function generateCommunityGoals() {
            const goals = [
                'Ø£Ø±ÙŠØ¯ Ø£ØµØ¯Ù‚Ø§Ø¡ Ø¨Ù†ÙØ³ Ø§Ù„Ø°ÙˆÙ‚',
                'Ø£Ø¨Ø­Ø« Ø¹Ù† Ù†Ù‚Ø§Ø´Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©',
                'Ø£Ø±ÙŠØ¯ Ù†Ø´Ø± Ø±Ø³ÙˆÙ…Ø§ØªÙŠ',
                'Ø£Ø±ÙŠØ¯ Ù…Ø±Ø§Ø¬Ø¹Ø§Øª ÙˆØªÙ‚ÙŠÙŠÙ…Ø§Øª'
            ];
            
            const container = document.getElementById('community-goals');
            
            goals.forEach(goal => {
                const label = document.createElement('label');
                label.className = 'flex items-center space-x-3 space-x-reverse p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900 cursor-pointer transition-all';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'w-5 h-5 text-purple-600 rounded';
                checkbox.onchange = () => {
                    if (!formData.goals) formData.goals = [];
                    if (checkbox.checked) {
                        formData.goals.push(goal);
                    } else {
                        formData.goals = formData.goals.filter(g => g !== goal);
                    }
                    saveFormData();
                };
                
                const span = document.createElement('span');
                span.textContent = goal;
                
                label.appendChild(checkbox);
                label.appendChild(span);
                container.appendChild(label);
            });
        }

        // Generate Suggested Follows
        function generateSuggestedFollows() {
            const users = [
                { name: 'Ø£Ø­Ù…Ø¯ | Ø£ÙˆØªØ§ÙƒÙˆ', bio: 'Ù…Ø­Ø¨ Ù„Ù„Ø´ÙˆÙ†ÙŠÙ† ÙˆØ§Ù„Ø¥ÙŠØ³ÙŠÙƒØ§ÙŠ', followers: 2500 },
                { name: 'Ø³Ø§Ø±Ø© | Ø±Ø³Ø§Ù…Ø©', bio: 'ÙÙ† Ø§Ù„Ø£Ù†Ù…ÙŠ ÙˆØ§Ù„Ù…Ø§Ù†Ø¬Ø§', followers: 5000 },
                { name: 'Ù…Ø­Ù…Ø¯ | Ù†Ø§Ù‚Ø¯', bio: 'Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…ÙˆØ³Ù…ÙŠ', followers: 3200 }
            ];
            
            const container = document.getElementById('suggested-follows');
            formData.following = formData.following || [];
            
            users.forEach((user, index) => {
                const card = document.createElement('div');
                card.className = 'flex items-center justify-between p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg';
                
                card.innerHTML = `
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <img src="https://i.pravatar.cc/150?img=${index + 20}" class="w-12 h-12 rounded-full">
                        <div>
                            <p class="font-bold">${user.name}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${user.bio}</p>
                            <p class="text-xs text-gray-500">${user.followers} Ù…ØªØ§Ø¨Ø¹</p>
                        </div>
                    </div>
                    <button type="button" id="follow-btn-${index}" 
                        class="follow-btn px-4 py-2 rounded-lg anime-gradient text-white font-medium hover:shadow-lg transition-all">
                        Ù…ØªØ§Ø¨Ø¹Ø©
                    </button>
                `;
                
                const btn = card.querySelector(`#follow-btn-${index}`);
                btn.onclick = () => toggleFollow(btn, user.name);
                
                container.appendChild(card);
            });
        }

        function toggleFollow(btn, userName) {
            if (!formData.following) formData.following = [];
            
            if (btn.textContent === 'Ù…ØªØ§Ø¨Ø¹Ø©') {
                btn.textContent = 'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©';
                btn.classList.remove('anime-gradient');
                btn.classList.add('bg-gray-400');
                formData.following.push(userName);
            } else {
                btn.textContent = 'Ù…ØªØ§Ø¨Ø¹Ø©';
                btn.classList.add('anime-gradient');
                btn.classList.remove('bg-gray-400');
                formData.following = formData.following.filter(u => u !== userName);
            }
            
            saveFormData();
        }

        // Step Indicators
        function updateStepIndicators() {
            const container = document.getElementById('step-indicators');
            container.innerHTML = '';
            
            const steps = ['Ø§Ù„Ø­Ø³Ø§Ø¨', 'Ø§Ù„