<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ³Ø¬ÙŠÙ„ Ø®Ø·ÙˆØ©-Ø¨Ø®Ø·ÙˆØ© â€” Ø±ÙˆØ­ Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ù„Ø·ÙŠÙ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent: #f97316;   /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ù…Ø´Ù…Ø³ */
      --accent2:#22c55e;   /* Ø£Ø®Ø¶Ø± Ù„Ø·ÙŠÙ */
      --ink: #0f172a;
      --paper:#fff7ed;
      --line:#b3d5ff;
      --dots: rgba(59,130,246,.10);
      --sticker:#fde68a;
      --secondary:#60a5fa;
    }

    body{
      font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      background:
        radial-gradient(circle at 12px 12px, var(--dots) 2px, transparent 3px) 0 0/24px 24px,
        repeating-linear-gradient(to bottom, rgba(179,213,255,.55) 0px, rgba(179,213,255,.55) 1px, transparent 1px, transparent 26px),
        linear-gradient(180deg, #fff 0%, var(--paper) 100%);
      min-height: 100vh;
    }

    /* Card/Diary vibe */
    .diary-card{
      position: relative;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(15,23,42,.08);
      box-shadow:
        0 10px 30px rgba(2, 6, 23, .10),
        0 2px 0 rgba(2, 6, 23, .06);
      backdrop-filter: blur(8px);
    }
    .diary-card::before{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius: 26px;
      background:
        radial-gradient(circle at 20px 20px, rgba(253,224,71,.55) 0 12px, transparent 13px),
        radial-gradient(circle at calc(100% - 28px) 28px, rgba(96,165,250,.25) 0 16px, transparent 17px),
        radial-gradient(circle at 26px calc(100% - 26px), rgba(34,197,94,.18) 0 16px, transparent 17px);
      z-index:-1;
      filter: blur(.2px);
      opacity:.9;
    }
    /* â€œTapeâ€ corners */
    .tape{
      position:absolute;
      width: 110px;
      height: 34px;
      background: rgba(253, 230, 138, .85);
      border: 1px dashed rgba(15, 23, 42, .14);
      border-radius: 10px;
      transform: rotate(-6deg);
      top: -14px;
      right: 26px;
      box-shadow: 0 6px 14px rgba(2,6,23,.10);
    }
    .tape.left{
      transform: rotate(8deg);
      right:auto;
      left: 26px;
      top: -10px;
      background: rgba(191, 219, 254, .65);
    }

    /* Cute wiggle for selected cards */
    @keyframes pop {
      0% { transform: translateY(0) scale(1); }
      60%{ transform: translateY(-2px) scale(1.02); }
      100%{ transform: translateY(0) scale(1); }
    }
    .pop { animation: pop .28s ease-out; }

    /* Step transitions */
    .step-panel{
      transition: opacity .25s ease, transform .25s ease;
    }
    .step-hidden{
      opacity: 0;
      transform: translateY(10px);
      pointer-events: none;
      position: absolute;
      inset: 0;
    }
    .step-visible{
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
      position: relative;
    }

    /* Icon chip */
    .icon-chip{
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.75);
    }

    /* Use CSS variables inside Tailwind-ish */
    .accent{
      color: var(--accent);
    }
    .bg-accent{
      background: var(--accent);
    }
    .ring-accent{
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 30%, transparent);
    }

    /* tiny confetti */
    @keyframes floaty {
      0% { transform: translateY(0); opacity: 0; }
      20%{ opacity: 1; }
      100%{ transform: translateY(-40px); opacity: 0; }
    }
    .confetti{
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      border-radius: 22px;
    }
    .confetti i{
      position:absolute;
      width: 10px; height: 10px;
      border-radius: 3px;
      opacity: 0;
      animation: floaty .9s ease-out forwards;
      background: color-mix(in oklab, var(--accent) 70%, white);
      box-shadow: 0 0 0 2px rgba(255,255,255,.6) inset;
    }
  </style>
</head>

<body class="selection:bg-orange-200/70 selection:text-slate-900">
  <div class="min-h-screen flex items-center justify-center px-4 py-10">
    <div class="w-full max-w-4xl">
      <!-- Modal -->
      <div class="diary-card rounded-[22px] p-4 sm:p-6 md:p-8">
        <div class="tape" aria-hidden="true"></div>
        <div class="tape left" aria-hidden="true"></div>

        <!-- Header -->
        <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
          <div>
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full icon-chip">
              <span class="inline-flex items-center justify-center w-7 h-7 rounded-full bg-white border border-slate-200">
                <!-- star -->
                <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2l3.1 6.4L22 9.3l-5 4.9L18.2 22 12 18.7 5.8 22 7 14.2 2 9.3l6.9-1L12 2z"/>
                </svg>
              </span>
              <span class="text-sm text-slate-700">ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ â€¢ Light Mode</span>
            </div>

            <h1 class="mt-3 text-2xl sm:text-3xl md:text-4xl font-extrabold leading-tight">
              Ø¯ÙØªØ± Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© âœ¨
              <span class="accent">Ù„Ù†ØµÙ†Ø¹ Ù…Ù„ÙÙƒ Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù„Ø·ÙŠÙ</span>
            </h1>
            <p class="mt-2 text-slate-600 text-sm sm:text-base max-w-2xl">
              Ø®Ø·ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø©ØŒ Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ù†Ø§Ø¹Ù…Ø©ØŒ Ø¨Ø¯ÙˆÙ† ØªØ­Ù‚Ù‚ Ø¥Ø¯Ø®Ø§Ù„ â€” ÙÙ‚Ø· â€œØ¥Ø­Ø³Ø§Ø³ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©â€ Ø§Ù„Ù…Ø´Ù…Ø³ ÙˆØ§Ù„Ù„Ø·ÙŠÙ â˜€ï¸ğŸ“š
            </p>
          </div>

          <!-- Progress pill -->
          <div class="flex md:flex-col md:items-end gap-2 md:gap-3">
            <div class="px-4 py-2 rounded-2xl bg-white/80 border border-slate-200 flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center font-extrabold">
                <span id="stepNum">1</span>
              </div>
              <div class="min-w-[150px]">
                <div class="text-xs text-slate-500">Ø§Ù„Ø®Ø·ÙˆØ©</div>
                <div class="font-bold text-slate-900"><span id="stepTitleMini">ØªØ±Ø­ÙŠØ¨</span></div>
              </div>
            </div>

            <div class="w-full md:w-[240px] bg-white/70 border border-slate-200 rounded-2xl p-3">
              <div class="flex items-center justify-between text-xs text-slate-500">
                <span>Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                <span><span id="stepPct">10</span>%</span>
              </div>
              <div class="mt-2 h-2 rounded-full bg-slate-100 overflow-hidden">
                <div id="bar" class="h-full rounded-full" style="width:10%; background: linear-gradient(90deg, var(--accent), var(--secondary));"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Stepper -->
        <div class="mt-6">
          <div class="flex items-center gap-2 overflow-x-auto pb-2">
            <!-- Stepper items will be injected -->
            <div id="stepper" class="flex items-center gap-2"></div>
          </div>
        </div>

        <!-- Content -->
        <div class="mt-6 relative">
          <div class="confetti" id="confetti" aria-hidden="true"></div>

          <div id="stepsWrap" class="min-h-[420px]">
            <!-- Step 1 -->
            <section class="step-panel step-visible" data-step="1">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">Ø£Ù‡Ù„Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø£Ù†Ù…ÙŠ ğŸ’</h2>
                  <p class="mt-2 text-slate-600">
                    Ø§Ø®ØªØ± Ù‡Ø¯ÙÙƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠâ€¦ ÙˆØ§Ù„Ø¨Ø§Ù‚ÙŠ Ø³ÙŠØ£ØªÙŠ ÙƒÙØµÙ„ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø¯ÙØªØ± ÙŠÙˆÙ…ÙŠØ§ØªÙƒ!
                  </p>

                  <div class="mt-4 flex flex-wrap gap-2">
                    <span class="px-3 py-1 rounded-full bg-slate-900 text-white text-xs">Ù…Ø´Ù…Ø³</span>
                    <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-xs">Ù„Ø·ÙŠÙ</span>
                    <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-xs">Ø£Ù„ÙˆØ§Ù† Ø­ÙŠÙˆÙŠØ©</span>
                    <span class="px-3 py-1 rounded-full bg-white border border-slate-200 text-xs">Ø¨Ø¯ÙˆÙ† ØªØ¹Ù‚ÙŠØ¯</span>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold text-slate-900">Ù‡Ø¯ÙÙƒ</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø§Ø¶ØºØ· Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ø­Ø¯Ø© (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§).</p>

                  <div class="mt-4 grid sm:grid-cols-2 gap-3">
                    <button class="choice goal choice-card" data-choice="ØªÙƒÙˆÙŠÙ† ØµØ¯Ø§Ù‚Ø§Øª">
                      <span class="emoji">ğŸ¤</span>
                      <span class="label">ØªÙƒÙˆÙŠÙ† ØµØ¯Ø§Ù‚Ø§Øª</span>
                      <span class="hint">Ù†Ù„ØªÙ‚ÙŠâ€¦ ÙˆÙ†ØµÙŠØ± ÙØ±ÙŠÙ‚!</span>
                    </button>
                    <button class="choice goal choice-card" data-choice="ØªÙˆØµÙŠØ§Øª">
                      <span class="emoji">ğŸ¯</span>
                      <span class="label">ØªÙˆØµÙŠØ§Øª</span>
                      <span class="hint">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø­Ø³Ø¨ Ø°ÙˆÙ‚Ùƒ</span>
                    </button>
                    <button class="choice goal choice-card" data-choice="Ù…Ù†Ø§Ù‚Ø´Ø§Øª">
                      <span class="emoji">ğŸ’¬</span>
                      <span class="label">Ù…Ù†Ø§Ù‚Ø´Ø§Øª</span>
                      <span class="hint">Ù†Ù‚Ø§Ø´Ø§Øª Ù…Ø­ØªØ±Ù…Ø© ÙˆÙ…Ù…ØªØ¹Ø©</span>
                    </button>
                    <button class="choice goal choice-card" data-choice="Ø±Ø³Ù…">
                      <span class="emoji">ğŸ¨</span>
                      <span class="label">Ø±Ø³Ù…</span>
                      <span class="hint">Ù…Ø¹Ø±Ø¶ ÙÙ†Ùƒ ÙŠØ¨Ø¯Ø£ Ù‡Ù†Ø§</span>
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 2 -->
            <section class="step-panel step-hidden" data-step="2">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">Ø­Ø³Ø§Ø¨Ùƒâ€¦ Ù…Ø«Ù„ Ø§Ø³Ù…Ùƒ ÙÙŠ Ø§Ù„Ø¯ÙØªØ± âœ‰ï¸</h2>
                  <p class="mt-2 text-slate-600">Ø§ÙƒØªØ¨ Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ø¨Ø¯ÙˆÙ† ØªØ­Ù‚Ù‚ Ù‡Ù†Ø§).</p>

                  <div class="mt-4 space-y-3">
                    <label class="block">
                      <span class="text-sm font-bold text-slate-700">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>
                      <input id="email" type="email" placeholder="name@example.com"
                        class="mt-2 w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 focus:outline-none focus:ring-4 focus:ring-slate-200"
                      />
                    </label>
                    <label class="block">
                      <span class="text-sm font-bold text-slate-700">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                      <input id="password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                        class="mt-2 w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 focus:outline-none focus:ring-4 focus:ring-slate-200"
                      />
                    </label>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">ØªÙ„Ù…ÙŠØ­ ØµØºÙŠØ± âœ¨</h3>
                  <p class="mt-2 text-slate-600">
                    ØªØ®ÙŠÙ‘Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± â€œØªØ¹ÙˆÙŠØ°Ø©â€ Ø³Ø­Ø±ÙŠØ©â€¦ ÙƒÙ„Ù…Ø§ ÙƒØ§Ù†Øª Ø£Ø·ÙˆÙ„ ÙˆØ£ÙƒØ«Ø± ØªÙ†ÙˆØ¹Ù‹Ø§ØŒ ÙƒØ§Ù†Øª Ø£Ù‚ÙˆÙ‰!
                    <span class="block mt-2 text-xs text-slate-500">* Ù…Ø¬Ø±Ø¯ ØªÙ„Ù…ÙŠØ­ â€” Ù„Ù† Ù†ØªØ­Ù‚Ù‚ Ù‡Ù†Ø§.</span>
                  </p>

                  <div class="mt-4 p-4 rounded-2xl border border-slate-200 bg-white/70">
                    <div class="flex items-start gap-3">
                      <div class="w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center">
                        <!-- lock -->
                        <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M7 11V8a5 5 0 0 1 10 0v3"/>
                          <path d="M6 11h12v10H6z"/>
                        </svg>
                      </div>
                      <div>
                        <div class="font-extrabold">Ø®ØµÙˆØµÙŠØªÙƒ Ø£ÙˆÙ„Ù‹Ø§</div>
                        <div class="text-sm text-slate-600">Ø³Ù†Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø£Ø¬ÙˆØ§Ø¡ Ù„Ø·ÙŠÙØ© ÙˆØ¢Ù…Ù†Ø©.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 3 -->
            <section class="step-panel step-hidden" data-step="3">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">ÙƒÙŠÙ ØªØ±ÙŠØ¯ Ø£Ù† ÙŠÙ†Ø§Ø¯ÙŠÙƒ Ø§Ù„Ø¬Ù…ÙŠØ¹ØŸ ğŸ·ï¸</h2>
                  <p class="mt-2 text-slate-600">Ø§Ø³Ù… Ø¹Ø±Ø¶ + Ø¹Ù…Ø± +16 + â€œØ´Ø®ØµÙŠØªÙƒâ€.</p>

                  <div class="mt-4 space-y-3">
                    <label class="block">
                      <span class="text-sm font-bold text-slate-700">Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¶</span>
                      <input id="displayName" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø§Ø³ÙˆÙƒÙŠ_Ø§Ù„Ù„Ø·ÙŠÙ"
                        class="mt-2 w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 focus:outline-none focus:ring-4 focus:ring-slate-200"
                      />
                    </label>

                    <label class="block">
                      <span class="text-sm font-bold text-slate-700">Ø§Ù„Ø¹Ù…Ø± ( +16 )</span>
                      <input id="age" type="number" min="16" placeholder="16"
                        class="mt-2 w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 focus:outline-none focus:ring-4 focus:ring-slate-200"
                      />
                      <span class="mt-1 block text-xs text-slate-500">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ­Ù‚Ù‚ØŒ Ù„ÙƒÙ† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø´Ø±Ø·.</span>
                    </label>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ø§Ø®ØªØ± Ø´Ø®ØµÙŠØªÙƒ</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø£ÙŠ ÙˆØ§Ø­Ø¯Ø© ØªÙ…Ø«Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</p>

                  <div class="mt-4 grid sm:grid-cols-2 gap-3">
                    <button class="choice persona choice-card" data-choice="Ù‡Ø§Ø¯Ø¦">
                      <span class="emoji">ğŸŒ™</span>
                      <span class="label">Ù‡Ø§Ø¯Ø¦</span>
                      <span class="hint">Ù…Ù„Ø§Ø­Ø¸ Ø°ÙƒÙŠ</span>
                    </button>
                    <button class="choice persona choice-card" data-choice="Ù…Ø±Ø­">
                      <span class="emoji">ğŸ˜„</span>
                      <span class="label">Ù…Ø±Ø­</span>
                      <span class="hint">Ù…Ù‚Ø§Ù„Ø¨ Ù„Ø·ÙŠÙØ©</span>
                    </button>
                    <button class="choice persona choice-card" data-choice="Ø®Ø¬ÙˆÙ„">
                      <span class="emoji">ğŸ«£</span>
                      <span class="label">Ø®Ø¬ÙˆÙ„</span>
                      <span class="hint">Ø¶Ø­ÙƒØ© ØµØºÙŠØ±Ø©</span>
                    </button>
                    <button class="choice persona choice-card" data-choice="Ø­Ù…Ø§Ø³ÙŠ">
                      <span class="emoji">ğŸ”¥</span>
                      <span class="label">Ø­Ù…Ø§Ø³ÙŠ</span>
                      <span class="hint">Ø·Ø§Ù‚Ø© Ù†Ø§Ø¯ÙŠ</span>
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 4 -->
            <section class="step-panel step-hidden" data-step="4">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">Ù†Ø³Ø®Ø© Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡ ğŸ€ğŸ§¢</h2>
                  <p class="mt-2 text-slate-600">
                    â€œØ£ÙˆÙ„Ø§Ø¯/Ø¨Ù†Ø§Øªâ€ ÙŠØºÙŠØ± ÙÙ‚Ø· Ø§Ù„Ø²Ø®Ø§Ø±Ù ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©.
                  </p>

                  <div class="mt-4 grid sm:grid-cols-2 gap-3">
                    <button class="choice gender choice-card" data-choice="boys">
                      <span class="emoji">ğŸ§¢</span>
                      <span class="label">Ù†Ø³Ø®Ø© Ø£ÙˆÙ„Ø§Ø¯</span>
                      <span class="hint">Ø²Ø®Ø§Ø±Ù Ø­Ø§Ø¯Ø© ÙˆÙ„Ø·ÙŠÙØ©</span>
                    </button>
                    <button class="choice gender choice-card" data-choice="girls">
                      <span class="emoji">ğŸ€</span>
                      <span class="label">Ù†Ø³Ø®Ø© Ø¨Ù†Ø§Øª</span>
                      <span class="hint">Ø²Ø®Ø§Ø±Ù Ù†Ø§Ø¹Ù…Ø© ÙˆÙ„Ø§Ù…Ø¹Ø©</span>
                    </button>
                  </div>

                  <div class="mt-5 p-4 rounded-2xl border border-slate-200 bg-white/70">
                    <div class="flex items-center justify-between gap-3">
                      <div>
                        <div class="font-extrabold">Ù…Ø¤Ø´Ø± Ø§Ù„Ø«ÙŠÙ…</div>
                        <div class="text-sm text-slate-600">ÙŠØªØºÙŠØ± ÙÙˆØ±Ù‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200 bg-white/80">
                          <span class="w-3 h-3 rounded-full" style="background:var(--accent)"></span>
                          <span class="text-xs text-slate-700">Accent</span>
                        </span>
                        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-slate-200 bg-white/80">
                          <span class="w-3 h-3 rounded-full" style="background:var(--secondary)"></span>
                          <span class="text-xs text-slate-700">Secondary</span>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ù„ÙˆÙ† Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø§Ø®ØªÙŠØ§Ø± 1 Ù…Ù† 6 (Ù„Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ ÙÙ‚Ø·).</p>

                  <div class="mt-4 grid grid-cols-3 sm:grid-cols-6 gap-3">
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#f97316" aria-label="Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ">
                      <span class="w-10 h-10 rounded-2xl" style="background:#f97316"></span>
                    </button>
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#22c55e" aria-label="Ø£Ø®Ø¶Ø±">
                      <span class="w-10 h-10 rounded-2xl" style="background:#22c55e"></span>
                    </button>
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#60a5fa" aria-label="Ø£Ø²Ø±Ù‚">
                      <span class="w-10 h-10 rounded-2xl" style="background:#60a5fa"></span>
                    </button>
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#a78bfa" aria-label="Ø¨Ù†ÙØ³Ø¬ÙŠ">
                      <span class="w-10 h-10 rounded-2xl" style="background:#a78bfa"></span>
                    </button>
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#fb7185" aria-label="ÙˆØ±Ø¯ÙŠ">
                      <span class="w-10 h-10 rounded-2xl" style="background:#fb7185"></span>
                    </button>
                    <button class="colorPick w-full aspect-square rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center"
                      data-color="#14b8a6" aria-label="ØªØ±ÙƒÙˆØ§Ø²">
                      <span class="w-10 h-10 rounded-2xl" style="background:#14b8a6"></span>
                    </button>
                  </div>

                  <div class="mt-5 rounded-2xl border border-slate-200 bg-white/70 p-4">
                    <div class="flex items-center gap-3">
                      <div class="w-11 h-11 rounded-2xl flex items-center justify-center text-white font-extrabold"
                           id="profileColorPreview" style="background: var(--accent);">
                        P
                      </div>
                      <div>
                        <div class="font-extrabold">Ù…Ø¹Ø§ÙŠÙ†Ø©</div>
                        <div class="text-sm text-slate-600">Ù‡Ø°Ø§ Ù…Ø¬Ø±Ø¯ ØªÙ…Ø«ÙŠÙ„ Ù„Ù„ÙˆÙ† Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ</div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </section>

            <!-- Step 5 -->
            <section class="step-panel step-hidden" data-step="5">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">Ø£ÙØ§ØªØ§Ø±Ùƒ Ø§Ù„Ù„Ø·ÙŠÙ ğŸ˜º</h2>
                  <p class="mt-2 text-slate-600">Ø§Ø®ØªØ± 1 Ù…Ù† 12 SVG Ø£Ùˆ Ø§Ø±ÙØ¹ ØµÙˆØ±Ø©.</p>

                  <div class="mt-4 grid grid-cols-3 sm:grid-cols-4 gap-3" id="avatarGrid">
                    <!-- avatars injected -->
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ø±ÙØ¹ ØµÙˆØ±Ø©</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø§Ø®ØªÙŠØ§Ø±ÙŠ â€” Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ÙÙ‚Ø·.</p>

                  <div class="mt-4 p-4 rounded-2xl border border-slate-200 bg-white/80">
                    <input id="avatarUpload" type="file" accept="image/*"
                      class="block w-full text-sm text-slate-700
                             file:mr-3 file:rounded-xl file:border-0 file:px-4 file:py-2
                             file:bg-slate-900 file:text-white hover:file:opacity-90"
                    />
                    <div class="mt-4 flex items-center gap-4">
                      <div class="w-20 h-20 rounded-2xl border border-slate-200 bg-white overflow-hidden flex items-center justify-center">
                        <img id="uploadPreview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" class="w-full h-full object-cover hidden" />
                        <span id="uploadPlaceholder" class="text-xs text-slate-400">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</span>
                      </div>
                      <div class="text-sm text-slate-600">
                        <div class="font-extrabold text-slate-900">Ù…Ù„Ø§Ø­Ø¸Ø©</div>
                        <div>Ø§Ø®ØªÙŠØ§Ø± SVG Ø£Ùˆ Ø±ÙØ¹ ØµÙˆØ±Ø© â€” Ø£ÙŠÙ‡Ù…Ø§ ØªØ­Ø¨.</div>
                      </div>
                    </div>
                  </div>

                  <div class="mt-5 rounded-2xl border border-slate-200 bg-white/70 p-4">
                    <div class="flex items-start gap-3">
                      <div class="w-10 h-10 rounded-xl bg-white border border-slate-200 flex items-center justify-center">
                        <!-- pen -->
                        <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M12 20h9"/>
                          <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"/>
                        </svg>
                      </div>
                      <div>
                        <div class="font-extrabold">ØªÙØ§ØµÙŠÙ„ ØµØºÙŠØ±Ø©</div>
                        <div class="text-sm text-slate-600">ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§ â€œÙ„Ø·ÙŠÙâ€ØŒ Ù„Ø§ Ø¶ØºØ· ğŸ’›</div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </section>

            <!-- Step 6 -->
            <section class="step-panel step-hidden" data-step="6">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø§Ù„Ø£Ù†Ù…ÙŠ ğŸ¬</h2>
                  <p class="mt-2 text-slate-600">Ø§Ø®ØªØ± Genres ØªØ­Ø¨Ù‡Ø§.</p>

                  <div class="mt-4 flex flex-wrap gap-2" id="genreChips">
                    <!-- chips injected -->
                  </div>

                  <div class="mt-5 p-4 rounded-2xl border border-slate-200 bg-white/70">
                    <div class="text-sm text-slate-600">
                      <span class="font-extrabold text-slate-900">Ù…Ø¹Ù„ÙˆÙ…Ø©:</span>
                      Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ù‡Ù†Ø§ ØªØ³Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ø­ØªÙˆÙ‰â€¦ Ù„ÙƒÙ† Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ­Ù‚Ù‚.
                    </div>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ù…ÙˆØ³Ù… Ø£Ù†Ù…ÙŠ ØªØ­Ø¨Ù‡ (ÙƒÙ…Ø¬Ø§Ø²)</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø£ÙŠ ÙØµÙ„ ÙŠØ´Ø¨Ù‡ â€œÙ…Ø²Ø§Ø¬Ùƒ Ø§Ù„Ø£Ù†Ù…ÙŠâ€ØŸ</p>

                  <div class="mt-4 grid sm:grid-cols-2 gap-3">
                    <button class="choice season choice-card" data-choice="Ø´ØªØ§Ø¡">
                      <span class="emoji">â„ï¸</span>
                      <span class="label">Ø´ØªØ§Ø¡</span>
                      <span class="hint">Ù‡Ø¯ÙˆØ¡ ÙˆØ­Ù…Ø§Ø³ Ø¯Ø§Ø®Ù„ÙŠ</span>
                    </button>
                    <button class="choice season choice-card" data-choice="Ø±Ø¨ÙŠØ¹">
                      <span class="emoji">ğŸŒ¸</span>
                      <span class="label">Ø±Ø¨ÙŠØ¹</span>
                      <span class="hint">Ø¨Ø¯Ø§ÙŠØ§Øª Ù„Ø·ÙŠÙØ©</span>
                    </button>
                    <button class="choice season choice-card" data-choice="ØµÙŠÙ">
                      <span class="emoji">â˜€ï¸</span>
                      <span class="label">ØµÙŠÙ</span>
                      <span class="hint">Ø·Ø§Ù‚Ø© ÙˆÙ†Ø´Ø§Ø·</span>
                    </button>
                    <button class="choice season choice-card" data-choice="Ø®Ø±ÙŠÙ">
                      <span class="emoji">ğŸ‚</span>
                      <span class="label">Ø®Ø±ÙŠÙ</span>
                      <span class="hint">Ø¯Ø±Ø§Ù…Ø§ Ø¬Ù…ÙŠÙ„Ø©</span>
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 7 -->
            <section class="step-panel step-hidden" data-step="7">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">ÙƒÙˆÙ…ÙŠÙƒØ³ ØªØ­Ø¨Ù‡Ø§ ğŸ“š</h2>
                  <p class="mt-2 text-slate-600">Ø§Ø®ØªØ± Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.</p>

                  <div class="mt-4 grid sm:grid-cols-3 gap-3">
                    <button class="choice comics choice-card" data-choice="ÙˆÙŠØ¨ ØªÙˆÙ†">
                      <span class="emoji">ğŸ“±</span>
                      <span class="label">ÙˆÙŠØ¨ ØªÙˆÙ†</span>
                      <span class="hint">ØªÙ…Ø±ÙŠØ± Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ</span>
                    </button>
                    <button class="choice comics choice-card" data-choice="Ø³ÙˆØ¨Ø±Ù‡ÙŠØ±Ùˆ">
                      <span class="emoji">ğŸ¦¸</span>
                      <span class="label">Ø³ÙˆØ¨Ø±Ù‡ÙŠØ±Ùˆ</span>
                      <span class="hint">Ù‚ÙˆÙ‰ ÙˆÙ…ØºØ§Ù…Ø±Ø§Øª</span>
                    </button>
                    <button class="choice comics choice-card" data-choice="Ù‚ØµØµ Ù‚ØµÙŠØ±Ø©">
                      <span class="emoji">ğŸ“</span>
                      <span class="label">Ù‚ØµØµ Ù‚ØµÙŠØ±Ø©</span>
                      <span class="hint">Ø¬Ø±Ø¹Ø© Ø³Ø±ÙŠØ¹Ø©</span>
                    </button>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø´ÙˆØ± Ø§Ù„Ù…ÙØ¶Ù„</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø§Ø®ØªØ± Ù…Ø§ ØªØ­Ø¨ Ù†Ø´Ø±Ù‡/Ù‚Ø±Ø§Ø¡ØªÙ‡ ØºØ§Ù„Ø¨Ù‹Ø§.</p>

                  <div class="mt-4 grid sm:grid-cols-2 gap-3">
                    <button class="choice posttype choice-card" data-choice="Ù…Ø±Ø§Ø¬Ø¹Ø§Øª">
                      <span class="emoji">â­</span>
                      <span class="label">Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</span>
                      <span class="hint">ØªÙ‚ÙŠÙŠÙ… Ù„Ø·ÙŠÙ</span>
                    </button>
                    <button class="choice posttype choice-card" data-choice="ÙÙ†">
                      <span class="emoji">ğŸ–Œï¸</span>
                      <span class="label">ÙÙ†</span>
                      <span class="hint">Ø±Ø³ÙˆÙ…Ø§Øª ÙˆÙ…Ù„ØµÙ‚Ø§Øª</span>
                    </button>
                    <button class="choice posttype choice-card" data-choice="Ø£Ø³Ø¦Ù„Ø©">
                      <span class="emoji">â“</span>
                      <span class="label">Ø£Ø³Ø¦Ù„Ø©</span>
                      <span class="hint">ØªÙØ§Ø¹Ù„ Ø³Ø±ÙŠØ¹</span>
                    </button>
                    <button class="choice posttype choice-card" data-choice="Ù…ÙŠÙ…Ø²">
                      <span class="emoji">ğŸ˜‚</span>
                      <span class="label">Ù…ÙŠÙ…Ø²</span>
                      <span class="hint">Ø¶Ø­ÙƒØ© Ø¬Ù…Ø§Ø¹ÙŠØ©</span>
                    </button>
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 8 -->
            <section class="step-panel step-hidden" data-step="8">
              <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                <h2 class="text-xl font-extrabold">Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© ğŸ‘€</h2>
                <p class="mt-2 text-slate-600">6 Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª â€” Ø§Ø¶ØºØ· Follow Ù„Ù„ØªØ¨Ø¯ÙŠÙ„.</p>

                <div class="mt-4 grid md:grid-cols-2 gap-3" id="followList">
                  <!-- injected -->
                </div>
              </div>
            </section>

            <!-- Step 9 -->
            <section class="step-panel step-hidden" data-step="9">
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-xl font-extrabold">ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø³Ø¨ÙˆÙŠÙ„Ø± ğŸ™ˆ</h2>
                  <p class="mt-2 text-slate-600">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø§Ø­Ø© Ù„Ø¯ÙŠÙƒ.</p>

                  <div class="mt-4 space-y-3">
                    <button class="choice spoiler w-full text-right choice-card" data-choice="ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ø³Ø¨ÙˆÙŠÙ„Ø± ØªÙ…Ø§Ù…Ù‹Ø§">
                      <span class="emoji">ğŸ›¡ï¸</span>
                      <span class="label">ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ø³Ø¨ÙˆÙŠÙ„Ø± ØªÙ…Ø§Ù…Ù‹Ø§</span>
                      <span class="hint">Ø¥Ø®ÙØ§Ø¡ Ù‚ÙˆÙŠ</span>
                    </button>
                    <button class="choice spoiler w-full text-right choice-card" data-choice="Ø¹Ø±Ø¶ Ù…Ø¹ ØªØ­Ø°ÙŠØ±">
                      <span class="emoji">âš ï¸</span>
                      <span class="label">Ø¹Ø±Ø¶ Ù…Ø¹ ØªØ­Ø°ÙŠØ±</span>
                      <span class="hint">ØªØ­Ø°ÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¸Ù‡Ø§Ø±</span>
                    </button>
                    <button class="choice spoiler w-full text-right choice-card" data-choice="Ù„Ø§ Ù…Ø´ÙƒÙ„Ø© Ù…Ø¹ Ø§Ù„Ø³Ø¨ÙˆÙŠÙ„Ø±">
                      <span class="emoji">ğŸ˜ˆ</span>
                      <span class="label">Ù„Ø§ Ù…Ø´ÙƒÙ„Ø© Ù…Ø¹ Ø§Ù„Ø³Ø¨ÙˆÙŠÙ„Ø±</span>
                      <span class="hint">ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</span>
                    </button>
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h3>
                  <p class="mt-1 text-slate-600 text-sm">ÙØ¹Ù‘Ù„/Ø¹Ø·Ù‘Ù„ (Ù…Ø¬Ø±Ø¯ ÙˆØ§Ø¬Ù‡Ø©).</p>

                  <div class="mt-4 space-y-3" id="homePrefs">
                    <!-- toggles injected -->
                  </div>
                </div>
              </div>
            </section>

            <!-- Step 10 -->
            <section class="step-panel step-hidden" data-step="10">
              <div class="grid md:grid-cols-2 gap-6 items-stretch">
                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h2 class="text-2xl font-extrabold">Ø§Ù†ØªÙ‡ÙŠÙ†Ø§! ğŸŒŸ</h2>
                  <p class="mt-2 text-slate-600">
                    Ø£Ù†Øª Ø¬Ø§Ù‡Ø² Ù„ÙØªØ­ ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø©â€¦ ÙˆØªÙƒØªØ¨ Ø£ÙˆÙ„ Ø³Ø·Ø± ÙÙŠ Ù…Ø¬ØªÙ…Ø¹Ùƒ.
                  </p>

                  <div class="mt-5 p-4 rounded-2xl border border-slate-200 bg-white/80">
                    <div class="font-extrabold">Ø±Ø³Ø§Ù„Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©</div>
                    <p class="mt-1 text-slate-600">
                      ØªØ°ÙƒÙ‘Ø±: Ø°ÙˆÙ‚Ùƒ Ù‡Ùˆ â€œØ³ÙˆØ¨Ø± Ø¨Ø§ÙˆØ±â€ â€” Ø´Ø§Ø±ÙƒÙ‡ Ø¨Ù„Ø·ÙØŒ ÙˆØ³ØªØ¬Ø¯ Ù†Ø§Ø³ ÙŠØ´Ø¨Ù‡ÙˆÙ†Ùƒ ğŸ’›
                    </p>
                  </div>

                  <button id="createAccount"
                    class="mt-5 w-full rounded-2xl px-5 py-3 text-white font-extrabold transition hover:opacity-95 active:scale-[.99]"
                    style="background: linear-gradient(90deg, var(--accent), var(--secondary));">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ğŸš€
                  </button>

                  <div class="mt-3 text-xs text-slate-500">
                    * Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ­Ù‚Ù‚ Ø¥Ø¯Ø®Ø§Ù„ â€” Ù‡Ø°Ø§ Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø¬Ù‡Ø© ÙÙ‚Ø·.
                  </div>
                </div>

                <div class="bg-white/70 border border-slate-200 rounded-2xl p-5">
                  <h3 class="font-extrabold">Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹ (Ù„Ù„Ø¹Ø±Ø¶)</h3>
                  <p class="mt-1 text-slate-600 text-sm">Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù‡Ù†Ø§ â€œÙ…Ø­Ù„ÙŠØ©â€ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© ÙÙ‚Ø·.</p>

                  <div class="mt-4 space-y-3 text-sm">
                    <div class="p-4 rounded-2xl border border-slate-200 bg-white/80">
                      <div class="text-xs text-slate-500">Ù‡Ø¯ÙÙƒ</div>
                      <div class="font-extrabold" id="sumGoal">â€”</div>
                    </div>
                    <div class="p-4 rounded-2xl border border-slate-200 bg-white/80">
                      <div class="text-xs text-slate-500">Ø´Ø®ØµÙŠØªÙƒ</div>
                      <div class="font-extrabold" id="sumPersona">â€”</div>
                    </div>
                    <div class="p-4 rounded-2xl border border-slate-200 bg-white/80">
                      <div class="text-xs text-slate-500">Ù…ÙˆØ³Ù…Ùƒ Ø§Ù„Ø£Ù†Ù…ÙŠ</div>
                      <div class="font-extrabold" id="sumSeason">â€”</div>
                    </div>
                    <div class="p-4 rounded-2xl border border-slate-200 bg-white/80">
                      <div class="text-xs text-slate-500">Ø«ÙŠÙ…</div>
                      <div class="font-extrabold" id="sumTheme">â€”</div>
                    </div>
                  </div>

                  <div class="mt-5 p-4 rounded-2xl border border-slate-200 bg-white/70">
                    <div class="flex items-start gap-3">
                      <div class="w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center">
                        <!-- heart -->
                        <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 21l7.8-7.6 1-1a5.5 5.5 0 0 0 0-7.8z"/>
                        </svg>
                      </div>
                      <div>
                        <div class="font-extrabold">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ù†Ø·Ù„Ø§Ù‚</div>
                        <div class="text-sm text-slate-600">Ø§Ø¨Ø¯Ø£ Ø¨Ù†Ø´Ø± Ø£ÙˆÙ„ â€œØ¨ÙˆØ³Øª Ù†Ø§Ø¯ÙŠâ€ ğŸ˜„</div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </section>

          </div>
        </div>

        <!-- Footer Nav -->
        <div class="mt-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3">
          <button id="backBtn"
            class="rounded-2xl px-5 py-3 border border-slate-200 bg-white/80 font-extrabold text-slate-700 transition hover:bg-white disabled:opacity-40 disabled:cursor-not-allowed">
            Ø±Ø¬ÙˆØ¹
          </button>

          <div class="flex items-center justify-between sm:justify-end gap-3">
            <button id="skipBtn"
              class="rounded-2xl px-5 py-3 border border-slate-200 bg-white/60 font-bold text-slate-600 transition hover:bg-white">
              ØªØ®Ø·Ù‘ÙŠ
            </button>
            <button id="nextBtn"
              class="rounded-2xl px-5 py-3 text-white font-extrabold transition hover:opacity-95 active:scale-[.99]"
              style="background: linear-gradient(90deg, var(--accent), var(--secondary));">
              Ø§Ù„ØªØ§Ù„ÙŠ
            </button>
          </div>
        </div>

        <p class="mt-4 text-center text-xs text-slate-500">
          Ù…Ù„Ø§Ø­Ø¸Ø©: ÙƒÙ„ Ø´ÙŠØ¡ Ø¯Ø§Ø®Ù„ Ù…Ù„Ù HTML ÙˆØ§Ø­Ø¯ â€¢ RTL Ø¹Ø±Ø¨ÙŠ â€¢ Responsive
        </p>
      </div>
    </div>
  </div>

  <style>
    /* Reusable choice card styles */
    .choice-card{
      display:flex;
      flex-direction: column;
      align-items:flex-start;
      gap:6px;
      width:100%;
      text-align:right;
      padding:14px;
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.80);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .choice-card:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(2,6,23,.08);
      border-color: color-mix(in oklab, var(--accent) 35%, rgba(15,23,42,.10));
    }
    .choice-card .emoji{ font-size: 22px; line-height: 1; }
    .choice-card .label{ font-weight: 800; color: #0f172a; }
    .choice-card .hint{ font-size: 12px; color: rgba(15,23,42,.62); }
    .choice-card.selected{
      border-color: color-mix(in oklab, var(--accent) 60%, rgba(15,23,42,.10));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 18%, transparent);
    }

    /* Stepper item */
    .stepper-btn{
      flex: 0 0 auto;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.70);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, opacity .15s ease;
    }
    .stepper-btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
    }
    .stepper-btn .bubble{
      width: 36px; height: 36px;
      border-radius: 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(15,23,42,.08);
    }
    .stepper-btn.active{
      border-color: color-mix(in oklab, var(--accent) 55%, rgba(15,23,42,.10));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 18%, transparent);
    }
    .stepper-btn.done{
      opacity: .95;
    }

    /* Toggle */
    .toggle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.80);
    }
    .switch{
      width: 52px; height: 30px;
      border-radius: 999px;
      background: rgba(15,23,42,.12);
      position: relative;
      transition: background .2s ease;
      flex: 0 0 auto;
    }
    .knob{
      width: 24px; height: 24px;
      border-radius: 999px;
      background: white;
      position:absolute;
      top: 3px;
      right: 3px; /* RTL */
      transition: transform .2s ease, box-shadow .2s ease;
      box-shadow: 0 6px 14px rgba(2,6,23,.12);
    }
    .toggle.on .switch{
      background: color-mix(in oklab, var(--accent) 70%, #0000);
    }
    .toggle.on .knob{
      transform: translateX(-22px); /* RTL */
      box-shadow: 0 8px 16px rgba(2,6,23,.14);
    }

    /* Avatar tile */
    .avatarTile{
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.85);
      border-radius: 18px;
      padding: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .avatarTile:hover{
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
      border-color: color-mix(in oklab, var(--accent) 35%, rgba(15,23,42,.10));
    }
    .avatarTile.selected{
      border-color: color-mix(in oklab, var(--accent) 60%, rgba(15,23,42,.10));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 18%, transparent);
    }

    /* Genre chip */
    .chip{
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.85);
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 13px;
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }
    .chip:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(2,6,23,.06); }
    .chip.selected{
      border-color: color-mix(in oklab, var(--accent) 60%, rgba(15,23,42,.10));
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 18%, transparent);
    }

    /* Follow row */
    .followRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.80);
    }
    .followBtn{
      padding: 8px 12px;
      border-radius: 999px;
      font-weight: 900;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.90);
      transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
      white-space: nowrap;
    }
    .followBtn:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(2,6,23,.06); }
    .followBtn.on{
      background: color-mix(in oklab, var(--accent) 15%, white);
      border-color: color-mix(in oklab, var(--accent) 60%, rgba(15,23,42,.10));
    }
  </style>

  <script>
    // ---------- State ----------
    const TOTAL = 10;
    const state = {
      goal: null,
      email: "",
      password: "",
      displayName: "",
      age: "",
      persona: null,
      genderTheme: null,       // boys | girls
      profileColor: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
      avatarId: null,
      season: null,
      genres: new Set(),
      comics: null,
      posttype: null,
      follows: new Set(),
      spoiler: null,
      homePrefs: new Map()
    };

    let current = 1;

    const stepMeta = [
      { title:"ØªØ±Ø­ÙŠØ¨", icon: iconBook() },
      { title:"Ø§Ù„Ø­Ø³Ø§Ø¨", icon: iconMail() },
      { title:"Ø§Ù„Ù‡ÙˆÙŠØ©", icon: iconPencil() },
      { title:"Ø§Ù„Ø«ÙŠÙ…", icon: iconSparkle() },
      { title:"Ø§Ù„Ø£ÙØ§ØªØ§Ø±", icon: iconCat() },
      { title:"Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª", icon: iconStar() },
      { title:"ÙƒÙˆÙ…ÙŠÙƒØ³", icon: iconPanel() },
      { title:"Ù…ØªØ§Ø¨Ø¹Ø©", icon: iconEye() },
      { title:"ØªÙØ¶ÙŠÙ„Ø§Øª", icon: iconShield() },
      { title:"Ø§Ù„Ù†Ù‡Ø§ÙŠØ©", icon: iconHeart() },
    ];

    // ---------- Init ----------
    initStepper();
    initChoiceButtons();
    initColors();
    initAvatars();
    initGenres();
    initFollows();
    initHomePrefs();
    initUpload();

    updateUI();

    // ---------- Navigation ----------
    document.getElementById('nextBtn').addEventListener('click', () => {
      if (current < TOTAL) current++;
      showStep(current);
    });
    document.getElementById('backBtn').addEventListener('click', () => {
      if (current > 1) current--;
      showStep(current);
    });
    document.getElementById('skipBtn').addEventListener('click', () => {
      // ØªØ®Ø·Ù‘ÙŠ ÙŠØ¹Ù†ÙŠ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ù„Ø§ Ø´Ø±ÙˆØ·
      if (current < TOTAL) current++;
      showStep(current);
    });

    document.getElementById('createAccount').addEventListener('click', () => {
      burstConfetti();
      alert("ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ (ÙˆØ§Ø¬Ù‡Ø© ÙÙ‚Ø·)! Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø£Ù†Ù…ÙŠ âœ¨");
    });

    function showStep(n){
      const panels = document.querySelectorAll('[data-step]');
      panels.forEach(p => {
        const s = Number(p.getAttribute('data-step'));
        p.classList.toggle('step-visible', s === n);
        p.classList.toggle('step-hidden', s !== n);
      });
      updateUI();
    }

    function updateUI(){
      // header
      document.getElementById('stepNum').textContent = current;
      document.getElementById('stepTitleMini').textContent = stepMeta[current-1].title;
      const pct = Math.round((current / TOTAL) * 100);
      document.getElementById('stepPct').textContent = pct;
      document.getElementById('bar').style.width = pct + '%';

      // buttons
      const backBtn = document.getElementById('backBtn');
      const nextBtn = document.getElementById('nextBtn');
      const skipBtn = document.getElementById('skipBtn');

      backBtn.disabled = current === 1;
      if (current === TOTAL){
        nextBtn.classList.add('hidden');
        skipBtn.classList.add('hidden');
      } else {
        nextBtn.classList.remove('hidden');
        skipBtn.classList.remove('hidden');
      }

      // stepper active/done
      document.querySelectorAll('.stepper-btn').forEach(btn=>{
        const s = Number(btn.dataset.step);
        btn.classList.toggle('active', s === current);
        btn.classList.toggle('done', s < current);
      });

      // summary
      document.getElementById('sumGoal').textContent = state.goal ?? "â€”";
      document.getElementById('sumPersona').textContent = state.persona ?? "â€”";
      document.getElementById('sumSeason').textContent = state.season ?? "â€”";
      document.getElementById('sumTheme').textContent =
        state.genderTheme === "boys" ? "Ù†Ø³Ø®Ø© Ø£ÙˆÙ„Ø§Ø¯" :
        state.genderTheme === "girls" ? "Ù†Ø³Ø®Ø© Ø¨Ù†Ø§Øª" : "â€”";

      // preview letter color
      document.getElementById('profileColorPreview').style.background = state.profileColor || "var(--accent)";
    }

    // ---------- Stepper ----------
    function initStepper(){
      const stepper = document.getElementById('stepper');
      stepper.innerHTML = "";

      stepMeta.forEach((m, idx) => {
        const s = idx + 1;
        const btn = document.createElement('button');
        btn.type = "button";
        btn.className = "stepper-btn";
        btn.dataset.step = s;
        btn.innerHTML = `
          <span class="bubble" style="color: var(--accent)">${m.icon}</span>
          <span class="text-sm font-extrabold text-slate-800">${s}</span>
          <span class="text-xs text-slate-600 hidden sm:inline">${m.title}</span>
        `;
        btn.addEventListener('click', () => {
          current = s;
          showStep(current);
        });
        stepper.appendChild(btn);
      });
    }

    // ---------- Choices ----------
    function initChoiceButtons(){
      document.addEventListener('click', (e) => {
        const btn = e.target.closest('.choice');
        if(!btn) return;

        const group =
          btn.classList.contains('goal') ? 'goal' :
          btn.classList.contains('persona') ? 'persona' :
          btn.classList.contains('gender') ? 'gender' :
          btn.classList.contains('season') ? 'season' :
          btn.classList.contains('comics') ? 'comics' :
          btn.classList.contains('posttype') ? 'posttype' :
          btn.classList.contains('spoiler') ? 'spoiler' :
          null;

        if(!group) return;

        // single-select per group
        document.querySelectorAll('.choice.' + group).forEach(x => x.classList.remove('selected'));
        btn.classList.add('selected','pop');

        setTimeout(()=>btn.classList.remove('pop'), 280);

        const choice = btn.dataset.choice;

        if(group === 'goal') state.goal = choice;
        if(group === 'persona') state.persona = choice;
        if(group === 'season') state.season = choice;
        if(group === 'comics') state.comics = choice;
        if(group === 'posttype') state.posttype = choice;
        if(group === 'spoiler') state.spoiler = choice;

        if(group === 'gender'){
          state.genderTheme = choice;
          applyGenderTheme(choice);
        }

        updateUI();
      });

      // Keep state in sync for inputs (no validation)
      document.getElementById('email').addEventListener('input', (e)=> state.email = e.target.value);
      document.getElementById('password').addEventListener('input', (e)=> state.password = e.target.value);
      document.getElementById('displayName').addEventListener('input', (e)=> state.displayName = e.target.value);
      document.getElementById('age').addEventListener('input', (e)=> state.age = e.target.value);
    }

    // ---------- Theme Switch (boys/girls) ----------
    function applyGenderTheme(kind){
      // ÙÙ‚Ø· Ø²Ø®Ø§Ø±Ù + Ø£Ù„ÙˆØ§Ù† Ø«Ø§Ù†ÙˆÙŠØ©
      const root = document.documentElement;

      if(kind === 'boys'){
        root.style.setProperty('--secondary', '#60a5fa'); // Ø£Ø²Ø±Ù‚
        root.style.setProperty('--dots', 'rgba(59,130,246,.10)');
        root.style.setProperty('--sticker', 'rgba(191,219,254,.75)');
      } else if(kind === 'girls'){
        root.style.setProperty('--secondary', '#fb7185'); // ÙˆØ±Ø¯ÙŠ
        root.style.setProperty('--dots', 'rgba(236,72,153,.10)');
        root.style.setProperty('--sticker', 'rgba(253,230,138,.85)');
      }
    }

    // ---------- Profile colors ----------
    function initColors(){
      document.querySelectorAll('.colorPick').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.colorPick').forEach(b=>b.classList.remove('ring-4','ring-offset-2'));
          btn.classList.add('ring-4','ring-offset-2');
          const color = btn.dataset.color;
          state.profileColor = color;
          document.documentElement.style.setProperty('--accent', color);
          updateUI();
          burstConfetti(10);
        });
      });
    }

    // ---------- Avatars ----------
    function initAvatars(){
      const grid = document.getElementById('avatarGrid');
      const avatars = Array.from({length: 12}, (_,i)=> makeCuteAvatarSVG(i+1));
      grid.innerHTML = "";

      avatars.forEach((svg, idx) => {
        const id = idx + 1;
        const btn = document.createElement('button');
        btn.type = "button";
        btn.className = "avatarTile";
        btn.dataset.avatarId = id;
        btn.innerHTML = svg;

        btn.addEventListener('click', ()=>{
          document.querySelectorAll('.avatarTile').forEach(x=>x.classList.remove('selected'));
          btn.classList.add('selected','pop');
          setTimeout(()=>btn.classList.remove('pop'), 280);
          state.avatarId = id;

          // If user selected SVG, hide upload preview but keep chosen file if any
          updateUI();
        });

        grid.appendChild(btn);
      });
    }

    function makeCuteAvatarSVG(seed){
      // Ù„ÙØ·Ù Ø¨Ø³ÙŠØ·: Ø£Ù„ÙˆØ§Ù† ØªØªØ£Ø«Ø± Ø¨Ø§Ù„Ù€accent/secondary Ø¹Ø¨Ø± CSS vars
      // Ù…Ù„Ø§Ø­Ø¸Ø©: SVG inline ÙŠØ³ØªØ®Ø¯Ù… currentColor/vars
      const face = [
        { mouth:"M9 14c1 1 5 1 6 0", blushY: 12.5 },
        { mouth:"M9 15c1.2 1.2 4.8 1.2 6 0", blushY: 12.5 },
        { mouth:"M9 14c1.2 2 4.8 2 6 0", blushY: 13 },
        { mouth:"M10 14c1 0.8 3 0.8 4 0", blushY: 12.5 },
      ][(seed-1) % 4];

      const hair = [
        "M5 10c1-5 13-5 14 0v1c-1-2-3-3-7-3S7 9 5 11z",
        "M5 10c2-6 12-6 14 0v1c-2-2-4-2-7-2S7 9 5 11z",
        "M5 10c1-4 13-4 14 0v1c-1-1-4-2-7-2S7 10 5 11z"
      ][(seed-1) % 3];

      const acc = (seed % 3 === 0) ? `
        <path d="M8.2 11.2h7.6" stroke="rgba(15,23,42,.55)" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M8 11.2c-.2 0-.4.2-.4.4v1.2c0 .2.2.4.4.4h2.8c.2 0 .4-.2.4-.4v-1.2c0-.2-.2-.4-.4-.4H8z" fill="rgba(255,255,255,.7)" stroke="rgba(15,23,42,.45)" stroke-width=".9"/>
        <path d="M13.2 11.2c-.2 0-.4.2-.4.4v1.2c0 .2.2.4.4.4H16c.2 0 .4-.2.4-.4v-1.2c0-.2-.2-.4-.4-.4h-2.8z" fill="rgba(255,255,255,.7)" stroke="rgba(15,23,42,.45)" stroke-width=".9"/>
      ` : (seed % 3 === 1) ? `
        <path d="M12 8.2l.7 1.5 1.7.2-1.3 1.1.4 1.7-1.5-.8-1.5.8.4-1.7-1.3-1.1 1.7-.2z" fill="color-mix(in oklab, var(--accent) 55%, white)" opacity=".9"/>
      ` : `
        <path d="M17.8 8.6c0 1.4-1.1 2.5-2.5 2.5-1.4 0-2.5-1.1-2.5-2.5 0-1.4 1.1-2.5 2.5-2.5 1.4 0 2.5 1.1 2.5 2.5z"
          fill="color-mix(in oklab, var(--secondary) 40%, white)" opacity=".7"/>
      `;

      return `
        <svg viewBox="0 0 24 24" class="w-full h-full" aria-hidden="true">
          <defs>
            <linearGradient id="g${seed}" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="var(--accent)" stop-opacity=".35"/>
              <stop offset="1" stop-color="var(--secondary)" stop-opacity=".35"/>
            </linearGradient>
          </defs>
          <rect x="2.2" y="2.2" width="19.6" height="19.6" rx="6" fill="url(#g${seed})" />
          <rect x="2.2" y="2.2" width="19.6" height="19.6" rx="6" fill="rgba(255,255,255,.65)" />
          <circle cx="12" cy="13" r="6.2" fill="rgba(255,255,255,.95)" stroke="rgba(15,23,42,.10)" />
          <path d="${hair}" fill="color-mix(in oklab, var(--accent) 25%, rgba(15,23,42,.85))" opacity=".92"/>
          <circle cx="10" cy="13" r=".7" fill="rgba(15,23,42,.85)"/>
          <circle cx="14" cy="13" r=".7" fill="rgba(15,23,42,.85)"/>
          <path d="${face.mouth}" stroke="rgba(15,23,42,.75)" stroke-width="1.2" stroke-linecap="round" fill="none"/>
          <circle cx="8.6" cy="${face.blushY}" r="1.0" fill="color-mix(in oklab, var(--secondary) 35%, white)" opacity=".55"/>
          <circle cx="15.4" cy="${face.blushY}" r="1.0" fill="color-mix(in oklab, var(--secondary) 35%, white)" opacity=".55"/>
          ${acc}
        </svg>
      `;
    }

    // ---------- Genres ----------
    function initGenres(){
      const list = [
        "Ø´ÙˆÙ†ÙŠÙ†","Ø´ÙˆØ¬Ùˆ","Ø³ÙŠÙ†ÙŠÙ†","ÙƒÙˆÙ…ÙŠØ¯ÙŠ","Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ","Ø¯Ø±Ø§Ù…Ø§",
        "Ø®Ø§Ø±Ù‚","Ø®ÙŠØ§Ù„","Ø£ÙƒØ´Ù†","Ù…Ø¯Ø±Ø³ÙŠ","ØºÙ…ÙˆØ¶","Ø¥ÙŠØ³ÙŠÙƒØ§ÙŠ"
      ];
      const wrap = document.getElementById('genreChips');
      wrap.innerHTML = "";

      list.forEach(name=>{
        const btn = document.createElement('button');
        btn.type="button";
        btn.className="chip";
        btn.textContent = name;
        btn.addEventListener('click', ()=>{
          if(state.genres.has(name)){
            state.genres.delete(name);
            btn.classList.remove('selected');
          }else{
            state.genres.add(name);
            btn.classList.add('selected','pop');
            setTimeout(()=>btn.classList.remove('pop'), 280);
          }
        });
        wrap.appendChild(btn);
      });
    }

    // ---------- Follow suggestions ----------
    function initFollows(){
      const suggestions = [
        { handle:"@MangaSensei", name:"Ø£Ø³ØªØ§Ø° Ø§Ù„Ù…Ø§Ù†Ø¬Ø§", bio:"ØªØ¨Ø³ÙŠØ· + ØªÙˆØµÙŠØ§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©" },
        { handle:"@AnimeWeather", name:"Ù…Ø²Ø§Ø¬ Ø£Ù†Ù…ÙŠ", bio:"Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ù„Ø·ÙŠÙØ© ÙˆÙ„Ù‚Ø·Ø§Øª" },
        { handle:"@SketchClub", name:"Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±Ø³Ù…", bio:"ØªØ­Ø¯ÙŠØ§Øª ÙŠÙˆÙ…ÙŠØ© Ø®ÙÙŠÙØ©" },
        { handle:"@SpoilerFree", name:"Ø¨Ø¯ÙˆÙ† Ø³Ø¨ÙˆÙŠÙ„Ø±", bio:"Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø¢Ù…Ù†Ø©" },
        { handle:"@CosplayCorner", name:"Ø²Ø§ÙˆÙŠØ© ÙƒÙˆØ³Ø¨Ù„Ø§ÙŠ", bio:"Ø£ÙÙƒØ§Ø± ÙˆØ£Ø²ÙŠØ§Ø¡" },
        { handle:"@WebtoonRadar", name:"Ø±Ø§Ø¯Ø§Ø± ÙˆÙŠØ¨ ØªÙˆÙ†", bio:"Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©" },
      ];

      const list = document.getElementById('followList');
      list.innerHTML = "";

      suggestions.forEach((s, idx)=>{
        const row = document.createElement('div');
        row.className = "followRow";
        row.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="w-11 h-11 rounded-2xl border border-slate-200 bg-white flex items-center justify-center overflow-hidden"
                 style="background: linear-gradient(135deg, color-mix(in oklab, var(--accent) 18%, white), color-mix(in oklab, var(--secondary) 18%, white));">
              ${tinyMascot(idx+1)}
            </div>
            <div class="min-w-0">
              <div class="font-extrabold text-slate-900 leading-tight">${s.name}</div>
              <div class="text-xs text-slate-500">${s.handle} â€¢ ${s.bio}</div>
            </div>
          </div>
          <button type="button" class="followBtn" data-handle="${s.handle}">Follow</button>
        `;
        const btn = row.querySelector('.followBtn');
        btn.addEventListener('click', ()=>{
          const h = btn.dataset.handle;
          const on = state.follows.has(h);
          if(on){
            state.follows.delete(h);
            btn.classList.remove('on');
            btn.textContent = "Follow";
          }else{
            state.follows.add(h);
            btn.classList.add('on','pop');
            btn.textContent = "Following âœ“";
            setTimeout(()=>btn.classList.remove('pop'), 280);
          }
        });

        list.appendChild(row);
      });
    }

    function tinyMascot(seed){
      // SVG ØµØºÙŠØ± Ù„Ø·ÙŠÙ Ø¬Ø¯Ø§Ù‹
      const eyeX = (seed % 2 === 0) ? 14 : 10;
      return `
        <svg viewBox="0 0 24 24" class="w-9 h-9" aria-hidden="true">
          <circle cx="12" cy="12" r="9" fill="rgba(255,255,255,.85)" stroke="rgba(15,23,42,.10)"/>
          <circle cx="10" cy="12" r="1" fill="rgba(15,23,42,.85)"/>
          <circle cx="14" cy="12" r="1" fill="rgba(15,23,42,.85)"/>
          <path d="M9 15c1.2 1 4.8 1 6 0" stroke="rgba(15,23,42,.70)" stroke-width="1.2" fill="none" stroke-linecap="round"/>
          <circle cx="${eyeX}" cy="9" r="1.6" fill="color-mix(in oklab, var(--accent) 45%, white)" opacity=".7"/>
        </svg>
      `;
    }

    // ---------- Home prefs toggles ----------
    function initHomePrefs(){
      const prefs = [
        { key:"ForYou", label:"For You (Ù…Ù†Ø§Ø³Ø¨ Ù„Ø°ÙˆÙ‚Ùƒ)", desc:"Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ©" },
        { key:"Trending", label:"Ø§Ù„Ø£ÙƒØ«Ø± Ø±ÙˆØ§Ø¬Ù‹Ø§", desc:"Ù…Ø§ ÙŠØªÙƒÙ„Ù… Ø¹Ù†Ù‡ Ø§Ù„Ø¬Ù…ÙŠØ¹" },
        { key:"Following", label:"Ù…ØªØ§Ø¨ÙØ¹ÙˆÙ†", desc:"Ù…Ø­ØªÙˆÙ‰ Ù…Ù† ØªØªØ§Ø¨Ø¹Ù‡Ù…" },
        { key:"Art", label:"ÙÙ† ÙˆØ±Ø³ÙˆÙ…Ø§Øª", desc:"Ø¥Ù„Ù‡Ø§Ù… Ù„Ø·ÙŠÙ" },
        { key:"Reviews", label:"Ù…Ø±Ø§Ø¬Ø¹Ø§Øª", desc:"Ø¢Ø±Ø§Ø¡ Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©" },
      ];
      const wrap = document.getElementById('homePrefs');
      wrap.innerHTML = "";

      prefs.forEach((p, i)=>{
        state.homePrefs.set(p.key, i % 2 === 0); // Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¨Ø³ÙŠØ·
        const el = document.createElement('div');
        el.className = "toggle " + (state.homePrefs.get(p.key) ? "on" : "");
        el.innerHTML = `
          <div>
            <div class="font-extrabold text-slate-900">${p.label}</div>
            <div class="text-xs text-slate-500">${p.desc}</div>
          </div>
          <button type="button" class="switch" aria-label="ØªØ¨Ø¯ÙŠÙ„">
            <span class="knob"></span>
          </button>
        `;
        el.addEventListener('click', ()=>{
          const on = !state.homePrefs.get(p.key);
          state.homePrefs.set(p.key, on);
          el.classList.toggle('on', on);
        });

        wrap.appendChild(el);
      });
    }

    // ---------- Upload preview ----------
    function initUpload(){
      const input = document.getElementById('avatarUpload');
      const img = document.getElementById('uploadPreview');
      const ph = document.getElementById('uploadPlaceholder');

      input.addEventListener('change', ()=>{
        const file = input.files && input.files[0];
        if(!file) return;

        const url = URL.createObjectURL(file);
        img.src = url;
        img.classList.remove('hidden');
        ph.classList.add('hidden');
        burstConfetti(12);
      });
    }

    // ---------- Confetti ----------
    function burstConfetti(count = 18){
      const box = document.getElementById('confetti');
      box.innerHTML = "";
      const rect = box.getBoundingClientRect();

      for(let i=0;i<count;i++){
        const p = document.createElement('i');
        const x = Math.random() * (rect.width || 400);
        const y = (rect.height || 300) - 20 + Math.random() * 20;
        const delay = Math.random() * 120;

        p.style.left = x + "px";
        p.style.top = y + "px";
        p.style.animationDelay = delay + "ms";

        // diversify color slightly
        const tint = (i % 3 === 0) ? "var(--accent)" : (i % 3 === 1) ? "var(--secondary)" : "#fbbf24";
        p.style.background = `color-mix(in oklab, ${tint} 70%, white)`;

        box.appendChild(p);
      }
    }

    // ---------- Icons (inline) ----------
    function iconBook(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 19a2 2 0 0 0 2 2h13"/>
        <path d="M6 2h13v18H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
      </svg>`;
    }
    function iconMail(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16v16H4z"/>
        <path d="M4 7l8 6 8-6"/>
      </svg>`;
    }
    function iconPencil(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 20h9"/>
        <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"/>
      </svg>`;
    }
    function iconSparkle(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2l1.2 4.2L17 8l-3.8 1.8L12 14l-1.2-4.2L7 8l3.8-1.8Z"/>
        <path d="M5 14l.7 2.5L8 17l-2.3.5L5 20l-.7-2.5L2 17l2.3-.5Z"/>
        <path d="M19 14l.7 2.5L22 17l-2.3.5L19 20l-.7-2.5L16 17l2.3-.5Z"/>
      </svg>`;
    }
    function iconCat(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 5c-3 0-6 2-6 6s3 7 6 7 6-3 6-7-3-6-6-6z"/>
        <path d="M6 9L4 6v5"/>
        <path d="M18 9l2-3v5"/>
        <path d="M9 12h.01M15 12h.01"/>
        <path d="M10 15c.7.7 3.3.7 4 0"/>
      </svg>`;
    }
    function iconStar(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2l3.1 6.4L22 9.3l-5 4.9L18.2 22 12 18.7 5.8 22 7 14.2 2 9.3l6.9-1Z"/>
      </svg>`;
    }
    function iconPanel(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 5h8v14H4z"/>
        <path d="M12 5h8v7h-8z"/>
        <path d="M12 12h8v7h-8z"/>
      </svg>`;
    }
    function iconEye(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z"/>
        <circle cx="12" cy="12" r="3"/>
      </svg>`;
    }
    function iconShield(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2l8 4v6c0 5-3.5 9-8 10-4.5-1-8-5-8-10V6z"/>
      </svg>`;
    }
    function iconHeart(){
      return `<svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 21l7.8-7.6 1-1a5.5 5.5 0 0 0 0-7.8z"/>
      </svg>`;
    }
  </script>
</body>
</html>
